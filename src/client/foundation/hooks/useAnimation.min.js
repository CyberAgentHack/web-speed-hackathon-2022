import BezierEasing from"bezier-easing";import{useCallback,useRef,useState}from"react";export function useAnimation({duration:duration,end:end,start:start,timingFunction:timingFunction}){const[value,setValue]=useState(start),timer=useRef(null),startAnimation=useCallback(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void setValue(end);const startTime=performance.now(),tick=()=>{const now=performance.now(),elapsed=now-startTime;if(elapsed>=duration)return void setValue(end);const percentage=timingFunction(elapsed/duration);setValue(start+(end-start)*percentage),timer.current=setTimeout(tick,0)};timer.current=setTimeout(tick,0)},[start,end,duration,timingFunction]),abortAnimation=useCallback(()=>{null!==timer.current&&clearInterval(timer.current)},[]),resetAnimation=useCallback(()=>{setValue(start)},[start]);return{abortAnimation:abortAnimation,resetAnimation:resetAnimation,startAnimation:startAnimation,value:value}}export const easeOutCubic=BezierEasing(.2,.6,.35,1);